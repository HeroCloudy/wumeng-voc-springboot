<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                        https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="T002-20251026-yyg-002" author="yyg">
        <createTable remarks="问卷信息表" tableName="voc_survey">
            <column name="id" type="VARCHAR(64)" remarks="主键">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="title" type="VARCHAR(128)" remarks="标题"/>
            <column name="description" type="VARCHAR(2048)" remarks="描述"/>
            <column name="js" type="VARCHAR(2048)" remarks="JS代码"/>
            <column name="css" type="VARCHAR(2048)" remarks="CSS代码"/>
            <column name="is_published" type="tinyint" remarks="是否发布"/>
            <column name="is_star" type="tinyint" remarks="是否收藏"/>

            <column name="category" type="VARCHAR(64)" remarks="类别"/>
            <column name="label" type="VARCHAR(64)" remarks="标签"/>
            <column name="is_share" type="tinyint" remarks="是否分享到广场"/>
            <column name="estimate" type="integer" remarks="预估耗时，单位分钟"/>

            <column name="is_deleted" type="tinyint" remarks="是否删除 0未删除，1已删除" defaultValueNumeric="0"/>
            <column name="create_time" type="datetime" remarks="创建时间" defaultValueDate="current_timestamp"/>
            <column name="create_by" type="varchar(64)" remarks="创建人"/>
            <column name="update_time" type="datetime" remarks="更新时间" defaultValueDate="current_timestamp"/>
            <column name="update_by" type="varchar(64)" remarks="更新人"/>
        </createTable>

        <createTable remarks="问卷组件表" tableName="voc_component">
            <column name="id" type="VARCHAR(64)" remarks="主键">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="front_id" type="VARCHAR(128)" remarks="前端id"/>
            <column name="type" type="VARCHAR(16)" remarks="组件类型"/>
            <column name="title" type="VARCHAR(128)" remarks="组件标题"/>
            <column name="is_hidden" type="tinyint" remarks="是否隐藏"/>
            <column name="is_locked" type="tinyint" remarks="是否锁定"/>
            <column name="survey_id" type="VARCHAR(128)" remarks="问卷id"/>
            <column name="props_text" type="text" remarks="组件属性"/>
            <column name="sort_num" type="int" remarks="排序，从小到大"/>
        </createTable>
    </changeSet>

    <changeSet id="T002-20251028-yyg-003" author="yyg">
        <createTable remarks="问卷回答表" tableName="voc_answer">
            <column name="id" type="VARCHAR(64)" remarks="主键">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="survey_id" type="VARCHAR(128)" remarks="问卷id"/>
            <column name="submitter" type="VARCHAR(128)" remarks="提交人"/>
            <column name="json_value" type="text" remarks="答案JSON"/>
            <column name="create_time" type="datetime" remarks="创建时间" defaultValueDate="current_timestamp"/>
        </createTable>
        <createTable remarks="问卷回答明细表" tableName="voc_answer_item">
            <column name="id" type="VARCHAR(64)" remarks="主键">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="survey_id" type="VARCHAR(128)" remarks="问卷id"/>
            <column name="answer_id" type="VARCHAR(128)" remarks="回答id"/>
            <column name="submitter" type="VARCHAR(128)" remarks="提交人"/>
            <column name="component_id" type="VARCHAR(128)" remarks="问卷组件id"/>
            <column name="value" type="VARCHAR(2048)" remarks="答案"/>
            <column name="create_time" type="datetime" remarks="创建时间" defaultValueDate="current_timestamp"/>
        </createTable>
    </changeSet>

    <!-- 初始化问卷模拟数据 -->
    <changeSet id="T002-20251030-yyg-003" author="yyg">
        <sql>
            INSERT INTO voc_survey(id, title, description, is_published, is_star, category, label, is_share, estimate)
            VALUES
                ('10001', '2023年大学生学习习惯调查', '了解当代大学生的学习习惯、偏好和挑战，帮助教育机构改进教学方法。内容涵盖课堂参与、自学方式、时间管理等方面。', 1, 1, '教育学习', '调研,调查', 1, 3),
                ('10002', '用户对智能手环功能需求调查', '了解消费者对智能手环功能的需求和期望，帮助产品设计团队优化产品功能。调查内容包括健康监测、运动记录、通知提醒等功能偏好。', 1, 0, '科技产品', '调研,反馈', 1, 2),
                ('10003', '社区居民健康生活方式调查', '了解社区居民的健康生活方式、饮食习惯和运动情况，为健康促进项目提供参考。内容包括日常饮食结构、运动频率、睡眠质量等方面。', 1, 1, '健康医疗', '调研,调查', 1, 4),
                ('10004', '企业员工满意度评估', '评估企业员工对工作环境、薪资福利、职业发展等方面的满意度，为企业管理改进提供依据。', 1, 0, '员工管理', '评价,满意度', 1, 5),
                ('10005', '消费者购物体验反馈', '收集消费者在购物过程中的体验和反馈，帮助商家提升服务质量。内容包括商品质量、价格合理性、服务态度等方面。', 1, 1, '客户满意度', '反馈,评价', 1, 3),
                ('10006', '城市公共交通服务评价', '评价城市公共交通系统的服务质量，包括线路覆盖、准点率、舒适度等方面，为交通规划提供参考。', 1, 0, '公共服务', '评价,满意度', 1, 4),
                ('10007', '新产品上市前市场调研', '在新产品上市前了解目标用户的需求和偏好，评估产品的市场潜力。内容包括产品功能、价格接受度、购买意愿等。', 1, 1, '市场分析', '调研,调查', 1, 5),
                ('10008', '旅游目的地满意度调查', '调查游客对旅游目的地的满意程度，包括景点质量、住宿条件、餐饮服务等方面，为旅游目的地改进提供参考。', 1, 0, '旅游出行', '满意度,评价', 1, 3),
                ('10009', '互联网用户隐私保护意识调查', '了解互联网用户对个人隐私保护的意识和态度，包括数据安全认知、隐私设置使用情况等。', 1, 1, '科技产品', '调查,调研', 1, 4),
                ('10010', '员工培训效果评估', '评估企业员工培训项目的效果和价值，包括培训内容实用性、讲师水平、知识掌握程度等方面。', 1, 0, '培训评估', '评价,评估', 1, 3),
                ('10011', '校园文化活动满意度调查', '调查学生对校园文化活动的满意程度和参与意愿，包括活动类型、组织方式、时间安排等方面。', 1, 1, '教育学习', '满意度,评价', 1, 2),
                ('10012', '社区环保意识调查', '了解社区居民的环保意识和行为习惯，包括垃圾分类、节约用水用电、环保知识了解程度等方面。', 1, 0, '环保生态', '调查,调研', 1, 4),
                ('10013', '企业品牌认知度调查', '了解目标消费者对企业品牌的认知和印象，包括品牌形象、核心产品、品牌联想等方面。', 1, 1, '品牌认知', '调研,调查', 1, 3),
                ('10014', '医院就医体验反馈', '收集患者在医院就医过程中的体验和反馈，包括就医环境、医生态度、医疗水平、服务流程等方面。', 1, 0, '健康医疗', '反馈,评价', 1, 4),
                ('10015', '餐厅服务质量评价', '评价餐厅的服务质量，包括就餐环境、菜品质量、服务态度、价格合理性等方面。', 1, 1, '生活方式', '评价,满意度', 1, 2),
                ('10016', '线上教育平台使用体验调查', '了解用户在线上教育平台的使用体验，包括平台功能、课程质量、学习效果、用户界面等方面。', 1, 0, '教育学习', '体验,反馈', 1, 5),
                ('10017', '社交媒体使用习惯调查', '调查用户的社交媒体使用习惯，包括使用频率、主要用途、关注内容类型、使用时长等方面。', 1, 1, '媒体传播', '调查,调研', 1, 3),
                ('10018', '企业招聘需求调查', '了解企业的招聘需求和标准，包括岗位要求、薪资水平、人才偏好、招聘渠道等方面。', 1, 0, '人才招聘', '调研,调查', 1, 4),
                ('10019', '消费者金融产品偏好调查', '调查消费者对各类金融产品的偏好和需求，包括理财产品、保险产品、贷款服务等方面。', 1, 1, '金融投资', '调研,调查', 1, 5),
                ('10020', '电影观众满意度调查', '调查电影观众对近期上映电影的满意程度，包括剧情、演员表现、视觉效果、票价等方面。', 1, 0, '娱乐休闲', '满意度,评价', 1, 3),
                ('10021', '办公软件使用体验反馈', '收集用户对办公软件的使用体验和反馈，包括功能实用性、操作便捷性、稳定性等方面。', 1, 1, '科技产品', '体验,反馈', 1, 4),
                ('10022', '社区文化活动意见征集', '征集社区居民对文化活动的意见和建议，包括活动类型、举办时间、参与方式等方面。', 1, 0, '文化艺术', '意见征集,反馈', 1, 3),
                ('10023', '房地产市场需求调研', '了解消费者对房地产市场的需求和预期，包括购房意愿、价格接受度、户型偏好、区位选择等方面。', 1, 1, '房地产', '调研,调查', 1, 5),
                ('10024', '体育赛事观众满意度调查', '调查体育赛事观众的满意程度，包括赛事组织、观赛环境、服务质量、票价合理性等方面。', 1, 0, '体育健身', '满意度,评价', 1, 3),
                ('10025', '企业社会责任履行情况调查', '了解企业在社会责任方面的履行情况和社会评价，包括环保措施、公益活动、员工福利等方面。', 1, 1, '公益慈善', '调研,评价', 1, 4),
                ('10026', '电商平台购物满意度调查', '调查消费者在电商平台的购物满意度，包括商品质量、物流速度、售后服务、支付便捷性等方面。', 1, 0, '消费习惯', '满意度,评价', 1, 3),
                ('10027', '安全生产管理评估', '评估企业的安全生产管理状况，包括安全制度、培训情况、隐患排查、应急处置等方面。', 1, 1, '安全评估', '评估,调查', 1, 5),
                ('10028', '大学生就业意向调查', '了解大学生的就业意向和期望，包括职业规划、薪资预期、行业选择、就业地区等方面。', 1, 0, '教育学习', '调研,调查', 1, 4),
                ('10029', '产品质量控制效果评估', '评估企业产品质量控制措施的效果，包括质检流程、标准执行、问题整改等方面。', 1, 1, '质量控制', '评估,评价', 1, 4),
                ('10030', '政府公共服务满意度评价', '评价公众对政府提供的公共服务的满意程度，包括服务态度、办事效率、政策透明度等方面。', 1, 0, '公共服务', '满意度,评价', 1, 5),
                ('10031', '音乐流媒体平台使用调查', '调查用户在音乐流媒体平台的使用习惯和偏好，包括使用频率、付费意愿、内容偏好等方面。', 1, 1, '娱乐休闲', '调查,体验', 1, 3),
                ('10032', '企业创新文化调查', '了解企业的创新文化氛围和员工创新意愿，包括创新激励机制、资源支持、创新成果应用等方面。', 1, 0, '创新研发', '调研,调查', 1, 4),
                ('10033', '旅游消费者行为习惯调查', '调查旅游消费者的行为习惯和偏好，包括出行方式、住宿选择、消费金额、信息获取渠道等方面。', 1, 1, '旅游出行', '调研,调查', 1, 5),
                ('10034', '图书阅读偏好调查', '了解公众的图书阅读偏好和习惯，包括阅读类型、阅读时长、获取渠道、购书意愿等方面。', 1, 0, '文化艺术', '调查,调研', 1, 3),
                ('10035', '企业风险管理现状评估', '评估企业的风险管理现状和能力，包括风险识别、风险分析、风险应对、风险监控等方面。', 1, 1, '风险管理', '评估,调查', 1, 4),
                ('10036', '家长对子女教育期望调查', '了解家长对子女教育的期望和关注重点，包括教育阶段规划、能力培养、学校选择、教育投入等方面。', 1, 0, '教育学习', '调研,调查', 1, 4),
                ('10037', '互联网产品用户体验测试反馈', '收集用户在产品体验测试中的反馈和建议，包括功能设计、界面布局、操作流程等方面。', 1, 1, '用户体验', '反馈,评价', 1, 3),
                ('10038', '健康养生产品需求调查', '了解消费者对健康养生产品的需求和偏好，包括产品类型、功能期望、价格接受度等方面。', 1, 0, '健康医疗', '调研,调查', 1, 4),
                ('10039', '企业客户忠诚度调查', '调查企业客户的忠诚度和满意度，包括重复购买意愿、推荐意愿、对品牌的情感连接等方面。', 1, 1, '客户满意度', '调研,满意度', 1, 5),
                ('10040', '社交媒体内容偏好调查', '了解用户对社交媒体内容的偏好和消费习惯，包括内容类型、互动方式、关注对象等方面。', 1, 0, '媒体传播', '调查,体验', 1, 3),
                ('10041', '城市绿化环境满意度调查', '调查市民对城市绿化环境的满意程度，包括公园数量、绿地质量、绿植养护等方面。', 1, 1, '环保生态', '满意度,评价', 1, 4),
                ('10042', '科技创新项目效果评估', '评估科技创新项目的实施效果和价值，包括技术突破、应用成果、经济效益等方面。', 1, 0, '创新研发', '评估,评价', 1, 5),
                ('10043', '餐饮行业消费者口味偏好调查', '调查消费者在餐饮方面的口味偏好和消费习惯，包括菜系偏好、辣度接受度、就餐频率等方面。', 1, 1, '生活方式', '调研,调查', 1, 3),
                ('10044', '金融风险防范意识调查', '了解公众对金融风险的防范意识和知识水平，包括风险识别能力、防范措施、投资决策等方面。', 1, 0, '金融投资', '调查,调研', 1, 4),
                ('10045', '社区治理满意度评价', '评价社区居民对社区治理工作的满意程度，包括治安状况、环境维护、便民服务等方面。', 1, 1, '公共服务', '满意度,评价', 1, 4),
                ('10046', '体育锻炼习惯调查', '调查公众的体育锻炼习惯和偏好，包括运动类型、锻炼频率、锻炼时长、场地选择等方面。', 1, 0, '体育健身', '调研,调查', 1, 3),
                ('10047', '房地产售后服务满意度调查', '调查购房者对房地产售后服务的满意程度，包括物业质量、维修服务、社区环境维护等方面。', 1, 1, '房地产', '满意度,评价', 1, 4),
                ('10048', '电子商务支付方式偏好调查', '了解消费者在电子商务中的支付方式偏好，包括支付安全性、便捷性、优惠活动等方面。', 1, 0, '消费习惯', '调研,调查', 1, 3),
                ('10049', '企业培训课程需求调查', '了解企业员工对培训课程的需求和期望，包括培训内容、培训方式、培训时间等方面。', 1, 1, '培训评估', '调研,需求', 1, 4),
                ('10050', '环保产品市场接受度调查', '调查消费者对环保产品的认知和接受程度，包括购买意愿、价格敏感度、使用体验等方面。', 1, 0, '环保生态', '调研,调查', 1, 4),
                ('10051', '医院医疗服务质量评估', '评估医院的医疗服务质量，包括医疗技术水平、医护人员态度、就医环境、服务流程等方面。', 1, 1, '健康医疗', '评估,评价', 1, 5),
                ('10052', '在线购物消费习惯调查', '调查消费者的在线购物习惯，包括购物频率、消费金额、商品类别、支付方式等方面。', 1, 0, '消费习惯', '调研,调查', 1, 3),
                ('10053', '企业品牌形象调查', '了解消费者对企业品牌形象的认知和评价，包括品牌定位、品牌联想、品牌声誉等方面。', 1, 1, '品牌认知', '调研,评价', 1, 4),
                ('10054', '文化活动参与意愿调查', '调查公众对各类文化活动的参与意愿和偏好，包括活动类型、参与频率、期望体验等方面。', 1, 0, '文化艺术', '调研,调查', 1, 3),
                ('10055', '安全生产知识普及效果评估', '评估安全生产知识普及活动的效果，包括知识掌握程度、安全意识提升、行为改变等方面。', 1, 1, '安全评估', '评估,调查', 1, 4),
                ('10056', '电子产品更新换代意愿调查', '了解消费者对电子产品更新换代的意愿和影响因素，包括更新频率、关注功能、价格接受度等方面。', 1, 0, '科技产品', '调研,调查', 1, 3),
                ('10057', '企业客户服务质量评价', '评价企业客户服务的质量，包括响应速度、解决效果、服务态度、专业水平等方面。', 1, 1, '客户满意度', '评价,满意度', 1, 4),
                ('10058', '旅游目的地选择因素调查', '调查影响消费者选择旅游目的地的主要因素，包括景点吸引力、交通便利性、住宿条件、价格水平等方面。', 1, 0, '旅游出行', '调研,调查', 1, 4),
                ('10059', '企业创新项目资金使用效益评估', '评估企业创新项目资金的使用效益，包括资金投入、产出成果、经济效益、社会效益等方面。', 1, 1, '创新研发', '评估,调研', 1, 5),
                ('10060', '员工工作压力来源调查', '了解企业员工工作压力的主要来源和影响因素，包括工作强度、职业发展、人际关系等方面。', 1, 0, '员工管理', '调研,调查', 1, 4),
                ('10061', '电影观影体验满意度调查', '调查观众对电影院观影体验的满意程度，包括放映质量、音响效果、观影环境、服务质量等方面。', 1, 1, '娱乐休闲', '满意度,评价', 1, 3),
                ('10062', '社区志愿服务参与意愿调查', '调查社区居民参与志愿服务的意愿和偏好，包括服务类型、时间安排、激励机制等方面。', 1, 0, '公益慈善', '调研,调查', 1, 4),
                ('10063', '金融产品售后服务满意度调查', '调查消费者对金融产品售后服务的满意程度，包括服务态度、响应速度、问题解决能力等方面。', 1, 1, '金融投资', '满意度,评价', 1, 4),
                ('10064', '企业质量管理体系评估', '评估企业质量管理体系的运行情况和有效性，包括标准执行、过程控制、持续改进等方面。', 1, 0, '质量控制', '评估,评价', 1, 5),
                ('10065', '在线教育课程质量评价', '评价在线教育课程的质量，包括内容设计、教学方法、互动性、学习效果等方面。', 1, 1, '教育学习', '评价,满意度', 1, 4),
                ('10066', '社交媒体广告效果调查', '调查社交媒体广告的传播效果和用户反应，包括注意度、点击率、转化率、用户体验等方面。', 1, 0, '媒体传播', '调研,调查', 1, 4),
                ('10067', '健康饮食知识知晓率调查', '调查公众对健康饮食知识的知晓程度，包括膳食结构、营养均衡、食物选择等方面。', 1, 1, '健康医疗', '调研,调查', 1, 3),
                ('10068', '企业招聘渠道效果评估', '评估企业各类招聘渠道的效果，包括招聘效率、人才质量、成本效益、适用岗位等方面。', 1, 0, '人才招聘', '评估,调研', 1, 4),
                ('10069', '房地产市场价格预期调查', '了解公众对房地产市场价格走势的预期，包括短期预期、长期预期、影响因素等方面。', 1, 1, '房地产', '调研,调查', 1, 4),
                ('10070', '体育赛事赞助效果评估', '评估企业在体育赛事赞助活动中的效果，包括品牌曝光、认知提升、销售促进等方面。', 1, 0, '体育健身', '评估,调研', 1, 5),
                ('10071', '公共交通系统改进意见征集', '征集公众对公共交通系统改进的意见和建议，包括线路优化、服务提升、票价调整等方面。', 1, 1, '公共服务', '意见征集,反馈', 1, 4),
                ('10072', '企业风险管理体系评估', '评估企业风险管理体系的完善程度和运行有效性，包括风险识别、风险分析、风险应对等方面。', 1, 0, '风险管理', '评估,评价', 1, 5),
                ('10073', '消费者品牌忠诚度调查', '调查消费者对特定品牌的忠诚度，包括重复购买行为、情感连接、推荐意愿等方面。', 1, 1, '品牌认知', '调研,调查', 1, 4),
                ('10074', '文化遗产保护意识调查', '了解公众对文化遗产保护的意识和态度，包括保护重要性认知、参与意愿、知识了解程度等方面。', 1, 0, '文化艺术', '调研,调查', 1, 3),
                ('10075', '企业安全生产投入效益评估', '评估企业安全生产投入的效益，包括事故减少、员工安全意识提升、经济效益影响等方面。', 1, 1, '安全评估', '评估,调研', 1, 5);
        </sql>
    </changeSet>
</databaseChangeLog>